new entry "MagicResistance"
type "PassiveData"
data "DisplayName" "Shared_Passive_MagicResistance_DisplayName"
data "Description" "Shared_Passive_MagicResistance_Description"
data "Boosts" "IF(HasSpellFlag(SpellFlags.Spell)):Advantage(AllSavingThrows);Resistance(All,ResistantToMagical)"

new entry "BonusProficiencies_Constitution"
type "PassiveData"
data "DisplayName" "Bonus Proficiency: Constitution Saving Throw"
data "Description" "Gain proficiency in Constitution Saving Throws."
data "Boosts" "ProficiencyBonus(SavingThrow,Constitution)"

new entry "BonusProficiencies_Dexterity"
type "PassiveData"
data "DisplayName" "Bonus Proficiency: Dexterity Saving Throw"
data "Description" "Gain proficiency in Dexterity Saving Throws."
data "Boosts" "ProficiencyBonus(SavingThrow,Dexterity)"

new entry "BonusProficiencies_Strength"
type "PassiveData"
data "DisplayName" "Bonus Proficiency: Strength Saving Throw"
data "Description" "Gain proficiency in Strength Saving Throws."
data "Boosts" "ProficiencyBonus(SavingThrow,Strength)"

new entry "MartialRole"
type "PassiveData"
data "DisplayName" "Martial Role"
data "Description" "Each warrior focuses on offense or defense in their training."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_MartialAdept"
data "Boosts" "IF(not HasStatus('MARTIALROLE_ATTACKER',context.Source) and not HasStatus('MARTIALROLE_DEFENDER',context.Source)):UnlockSpell(Shout_MartialRole)"
data "BoostContext" "OnStatusApplied"

new entry "BattleReadiness"
type "PassiveData"
data "DisplayName" "Battle Readiness"
data "Description" "You gain a +5 bonus to Initiative rolls."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_DualWielder_PassiveBonuses"
data "Boosts" "Initiative(5)"

new entry "ImprovedDefense"
type "PassiveData"
data "DisplayName" "Improved Defense"
data "Description" "Your Armor Class increases by 1."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_FightingStyle_Defense"
data "Boosts" "AC(1)"

new entry "MartialRole_Attacker"
type "PassiveData"
data "DisplayName" "Martial Role: Attacker"
data "Description" "You gain +2 to all Attack Rolls."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_FightingStyle_GreatWeaponFighting"
data "Boosts" "RollBonus(Attack,2)"

new entry "MartialRole_Defender"
type "PassiveData"
using "FightingStyle_Protection"
data "DisplayName" "Martial Role: Defender"
data "Description" "Impose Disadvantage on an enemy who attacks one of your allies when you are within [1]. You must be able to see the enemy."
data "Conditions" "Ally() and HasActionResource('ReactionActionPoint',1,0, false,context.Observer)"
data "Icon" "PassiveFeature_FightingStyle_Protection"
data "StatsFunctors" "ApplyStatus(PASSIVE_FIGHTING_STYLE_PROTECTION,100,1);RemoveAuraByChildStatus(MARTIAL_ROLE_DEFENDER);IF(TurnBased(context.Observer)):UseActionResource(SELF, ReactionActionPoint,1)"
data "ToggleOnFunctors" "ApplyStatus(MARTIAL_ROLE_DEFENDER_TOGGLE,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(MARTIAL_ROLE_DEFENDER_TOGGLE)"

new entry "BonusProficiencies_Expert"
type "PassiveData"
using "BonusProficiencies"
data "Description" "You gain proficiency in one Saving Throw of your choice: Dexterity, Intelligence or Charisma. In addition, you gain proficiency in five skills of your choice. You also gain proficiency with light armor and with all simple weapons."
data "Boosts" "IF(not HasStatus('BONUSPROFICIENCIES_SKILL_FIFTH',context.Source)):UnlockSpell(Shout_BonusProficiencies_Expert);IF(not HasStatus('BONUSPROFICIENCIES_SAVINGTHROW_FIRST',context.Source)):UnlockSpell(Shout_BonusProficiencies_SavingThrows_Expert)"
data "BoostContext" "OnStatusApplied;OnCreate"

new entry "Helpful"
type "PassiveData"
data "DisplayName" "Helpful"
data "Description" "You are adept at giving well-timed assistance; you can take the Help action as a bonus action."
data "Properties" "Highlighted;ToggledDefaultAddToHotbar;IsToggled"
data "Icon" "Action_Help"
data "ToggleOnFunctors" "ApplyStatus(HELPFUL,100,-1)"
data "ToggleOffFunctors" "RemoveStatus(HELPFUL,100)"

new entry "Expertise"
type "PassiveData"
data "DisplayName" "Expertise"
data "Description" "Choose two of your skill proficiencies. Your proficiency bonus is doubled for any ability check you make that uses the chosen proficiencies."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_Expertise"
data "Boosts" "IF(not HasStatus('EXPERTISE_SECOND',context.Source)):UnlockSpell(Shout_Expertise)"
data "BoostContext" "OnStatusApplied"

new entry "SharpMind"
type "PassiveData"
data "DisplayName" "Sharp Mind"
data "Description" "You can gain proficiency in one of the following Saving Throws of your choice: Intelligence, Wisdom, or Charisma."
data "Properties" "Highlighted"
data "Icon" "PassiveFeature_SharpMind"
data "Boosts" "IF(not HasStatus('SHARPMIND_FIRST',context.Source)):UnlockSpell(Shout_SharpMind)"
data "BoostContext" "OnStatusApplied"

new entry "AbilityScoreImprovement"
type "PassiveData"
data "Properties" "IsHidden"
data "Boosts" "IF(not HasStatus('ASI_BLOCK',context.Source)):UnlockSpell(Shout_ASI)"
data "BoostContext" "OnStatusApplied"

new entry "AbilityScoreImprovement_2"
type "PassiveData"
using "AbilityScoreImprovement"
data "Boosts" "IF(not HasStatus('ASI_BLOCK_2',context.Source)):UnlockSpell(Shout_ASI_8th)"

new entry "AbilityScoreImprovement_3"
type "PassiveData"
using "AbilityScoreImprovement"
data "Boosts" "IF(not HasStatus('ASI_BLOCK_3',context.Source)):UnlockSpell(Shout_ASI_12th)"

new entry "AbilityScoreImprovement_4"
type "PassiveData"
using "AbilityScoreImprovement"
data "Boosts" "IF(not HasStatus('ASI_BLOCK_4',context.Source)):UnlockSpell(Shout_ASI_14th)"

new entry "AbilityScoreImprovement_5"
type "PassiveData"
using "AbilityScoreImprovement"
data "Boosts" "IF(not HasStatus('ASI_BLOCK_5',context.Source)):UnlockSpell(Shout_ASI_16th)"

new entry "AbilityScoreImprovement_6"
type "PassiveData"
using "AbilityScoreImprovement"
data "Boosts" "IF(not HasStatus('ASI_BLOCK_6',context.Source)):UnlockSpell(Shout_ASI_19th)"

new entry "AbilityImprovement_Charisma"
type "PassiveData"
data "Boosts" "Ability(Charisma, 1)"
data "Properties" "IsHidden"

new entry "AbilityImprovement_Constitution"
type "PassiveData"
data "Boosts" "Ability(Constitution, 1)"
data "Properties" "IsHidden"

new entry "AbilityImprovement_Dexterity"
type "PassiveData"
data "Boosts" "Ability(Dexterity, 1)"
data "Properties" "IsHidden"

new entry "AbilityImprovement_Intelligence"
type "PassiveData"
data "Boosts" "Ability(Intelligence, 1)"
data "Properties" "IsHidden"

new entry "AbilityImprovement_Strength"
type "PassiveData"
data "Boosts" "Ability(Strength, 1)"
data "Properties" "IsHidden"

new entry "AbilityImprovement_Wisdom"
type "PassiveData"
data "Boosts" "Ability(Wisdom, 1)"
data "Properties" "IsHidden"